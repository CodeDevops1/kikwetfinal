<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cafe Details - Kikwetu</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="cafe.css">
</head6>
<body>
    <div class="container" id="main-page">
        <!-- Top navigation -->
        <div class="top-nav">
            <div><a href="listing.html" class="back-link"><i class="fas fa-arrow-left"></i> Back to Listings</a></div>
            <div><a href="listing.html">Kikwetu</a></div>
        </div>
        
        <!-- Main content container -->
        <div class="main-container">
            <!-- Secondary navigation -->
            <div class="secondary-nav">
                <div class="phone-number" id="cafe-phone">+254 712 345 678</div>
                <div class="nav-links">
                    <a href="#about" class="nav-link">About us</a>
                    <a href="#delivery" class="nav-link">Delivery</a>
                    <a href="#locations" class="nav-link">Locations</a>
                    <a href="#contacts" class="nav-link">Contacts</a>
                </div>
                <div class="cart-icon" id="cart-icon-top">
                    <i class="fas fa-shopping-bag"></i>
                    <div class="cart-count" id="cart-count">0</div>
                </div>
            </div>
            
            <!-- Content wrapper -->
            <div class="content-wrapper">
                <!-- Hero section -->
                <div class="hero">
                    <div class="hero-content">
                        <div>
                            <div class="logo" id="cafe-logo">p
                                <img src="https://via.placeholder.com/120x60/333/d97706?text=CAFE+LOGO" alt="Cafe Logo">
                            </div>
                            <div class="hero-text">
                                <h1 id="cafe-title">LOADING...</h1>
                                <p id="cafe-description">Loading cafe description...</p>
                                <button class="shop-now-btn" id="shop-now-btn">Order Now</button>
                            </div>
                        </div>
                        <div class="location">
                            <i class="fas fa-map-marker-alt"></i>
                            <span id="cafe-location">Loading location...</span>
                        </div>
                    </div>
                    <div class="hero-image" id="hero-image">
                        <img src="https://via.placeholder.com/600x400" alt="Cafe Image" id="hero-img">
                        <div class="featured-item">
                            <div class="featured-item-name" id="featured-name">Featured Item</div>
                            <div class="featured-item-name" id="featured-name-second"></div>
                            <div class="featured-item-price" id="featured-price">KSh 0</div>
                        </div>
                    </div>
                </div>
                
                <!-- Filter section -->
                <div class="filter-section">
                    <div>
                        <span class="filter-label">Filter by:</span>
                        <div class="filter-options">
                            <span class="filter-option active" data-filter="all">All</span>
                            <span class="filter-option" data-filter="daily">Daily items</span>
                            <span class="filter-option" data-filter="pastry">Pastry</span>
                        </div>
                    </div>
                    <div class="mini-cart" id="mini-cart">
                        <i class="fas fa-shopping-bag"></i>
                        <div class="mini-cart-count" id="mini-cart-count">0</div>
                    </div>
                </div>
                
                <!-- Menu section -->
                <div class="menu-section" id="menu">
                    <div class="section-header">
                        <h2 class="section-title" id="menu-section-title">CUSTOMER FAVOURITES</h2>
                        <div class="delivery-info">
                            <i class="far fa-clock"></i>
                            <span>All orders for Tuesday to be made by Sunday</span>
                        </div>
                    </div>
                    
                    <div class="menu-grid compact" id="menu-grid">
                        <!-- Menu items will be loaded dynamically from data.js -->
                    </div>
                    
                    <button class="view-all-btn" id="view-all-btn">View All</button>
                    
                    <div class="scroll-indicator" id="scroll-indicator">
                        <i class="fas fa-chevron-down scroll-icon"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Item Detail Modal -->
    <div class="modal" id="item-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" id="modal-title">Dish Name</div>
                <button class="modal-close" id="modal-close"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-body">
                <div class="modal-image">
                    <img src="https://via.placeholder.com/400x300" alt="Dish Image" id="modal-image">
                </div>
                <div class="modal-details">
                    <div class="modal-price" id="modal-price">KSh 0</div>
                    <div class="modal-description" id="modal-description">
                        Loading dish description...
                    </div>
                    <div class="modal-info">
                        <div class="modal-info-item">
                            <div class="modal-info-label">Weight</div>
                            <div class="modal-info-value" id="modal-weight">0g</div>
                        </div>
                        <div class="modal-info-item">
                            <div class="modal-info-label">Preparation Time</div>
                            <div class="modal-info-value" id="modal-prep-time">15-20 minutes</div>
                        </div>
                        <div class="modal-info-item">
                            <div class="modal-info-label">Rating</div>
                            <div class="modal-info-value" id="modal-rating"><i class="fas fa-star" style="color: #f8e71c;"></i> 0 (0 reviews)</div>
                        </div>
                        <div class="modal-info-item">
                            <div class="modal-info-label">Allergens</div>
                            <div class="modal-info-value" id="modal-allergens">May contain nuts, dairy</div>
                        </div>
                    </div>
                    <div class="modal-actions">
                        <div class="modal-quantity">
                            <button class="quantity-btn" id="quantity-minus">-</button>
                            <span class="quantity-value" id="quantity-value">1</span>
                            <button class="quantity-btn" id="quantity-plus">+</button>
                        </div>
                        <button class="modal-add-to-cart" id="modal-add-to-cart">Add to Cart</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Overlay -->
    <div class="cart-overlay" id="cart-overlay">
        <div class="cart-container">
            <!-- Tab buttons for small screens -->
            <div class="cart-tabs">
                <button class="cart-tab active" data-tab="cart-items-container">Cart Items</button>
                <button class="cart-tab" data-tab="order-summary">Order Summary</button>
            </div>
            <div class="cart-header">
                <div class="cart-title">
                    <div class="cafe-logo" id="cart-cafe-logo">
                        <img src="https://via.placeholder.com/120x60/333/d97706?text=CAFE+LOGO" alt="Cafe Logo">
                    </div>
                    <h2 class="cart-heading">Shopping Cart</h2>
                </div>
                <button class="cart-close" id="cart-close"><i class="fas fa-times"></i></button>
            </div>
            
            <div class="cart-content">
                <div class="cart-items" id="cart-items-container">
                    <!-- Cart has items -->
                    <div id="cart-has-items">
                        <table class="cart-table">
                            <thead>
                                <tr>
                                    <th class="cart-table-header th-item">Item</th>
                                    <th class="cart-table-header th-quantity">Quantity</th>
                                    <th class="cart-table-header th-price">Price</th>
                                    <th class="cart-table-header th-action">Action</th>
                                </tr>
                            </thead>
                            <tbody id="cart-items-list">
                                <!-- Cart items will be added dynamically -->
                            </tbody>
                        </table>
                        
                        <div class="cart-footer">
                            <button class="update-cart" id="update-cart">Update Cart</button>
                            <button class="buy-now-btn" id="buy-now-btn"><i class="fas fa-shopping-bag"></i> Buy Now</button>
                        </div>
                    </div>
                    
                    <!-- Empty cart state (hidden by default) -->
                    <div id="cart-empty" style="display: none;">
                        <div class="empty-cart">
                            <div class="empty-cart-icon">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                            <h3 class="empty-cart-message">Your cart is empty</h3>
                            <p class="empty-cart-submessage">Looks like you haven't added any items to your cart yet.</p>
                            <button class="continue-shopping" id="continue-shopping">Continue Shopping</button>
                        </div>
                    </div>
                </div>
                
                <div class="order-summary">
                    <h3 class="summary-title">Order Summary</h3>
                    
                    <div class="promo-code">
                        <input type="text" class="promo-input" placeholder="Promo code" id="promo-code">
                        <button class="apply-promo" id="apply-promo">Apply</button>
                    </div>
                    
                    <div class="summary-row">
                        <span class="summary-label">Sub Total</span>
                        <span class="summary-value" id="summary-subtotal">KSh 0</span>
                    </div>
                    
                    <div class="summary-row">
                        <span class="summary-label">Discount (<span id="discount-percentage">10</span>%)</span>
                        <span class="summary-value" id="summary-discount">- KSh 0</span>
                    </div>
                    
                    <div class="summary-row">
                        <span class="summary-label">Delivery fee</span>
                        <span class="summary-value" id="summary-delivery">KSh 150</span>
                    </div>
                    
                    <div class="total-row">
                        <span class="total-label">Total</span>
                        <span class="total-value" id="summary-total">KSh 150</span>
                    </div>
                    
                    <div class="warranty-info">
                        <i class="fas fa-info-circle"></i>
                        <div class="warranty-text">
                            All orders come with our freshness guarantee. Not satisfied? <a href="#">Contact us</a> for a refund or replacement.
                        </div>
                    </div>
                    
                    <button class="checkout-btn" id="checkout-btn">
                        <i class="fas fa-lock"></i> Pay With Mpesa
                    </button>
                </div>
            </div>
            
            <!-- Buy Now button (prominent) -->
            <div class="buy-now-container">
                <button class="buy-now-btn" id="mpesa-pay-btn">
                    <i class="fas fa-mobile-alt"></i> Lipa na M-Pesa
                </button>
                
            </div>
            
            <div class="promotions">
                <h3 class="promotions-title">Build your own meal</h3>
                <p class="promotions-subtitle">Create your own customized meal combination</p>
                
                <a href="#" class="chat-link">
                    <i class="fas fa-comments"></i> Let's Talk!
                </a>
            </div>
            
            <div class="copyright">
                <div class="copyright-text">
                    <span>©2023. All rights reserved.</span>
                    <span id="copyright-cafe-name">CAFE NAME</span>
                </div>
                
                <div class="social-links">
                    <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
                </div>
                
                <div class="address" id="copyright-address">
                    Loading address...
                </div>
            </div>
        </div>
    </div>

    <script src="utils.js"></script>
    <script src="data.js"></script>
    <script src="cafe.js"></script>
</body>
</html>